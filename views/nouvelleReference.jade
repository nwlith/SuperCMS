
head
  title Nouvelle référence
  
  link(rel='stylesheet', href='../stylesheets/style.css')
  link(rel='stylesheet', href='https://fonts.googleapis.com/css?family=Source+Code+Pro')

block content
  h1 Nouvelle référence
  h2 Entrez une référence
  form(method="post" action="/reference/nouvelle"  enctype="multipart/form-data")
  
    label(for="titre") Titre :
      p
        input(type="text" name="titre" id="titre")
        
    label(for="contenu") Contenu :
      p
        textarea(name="contenu" id="contenu")  
        
    label(for="file") Image : 
      p
        input(type="file" name="file" id="file")
        
    label(for="description") Description :
      p
        textarea(name="description" id="description")  
        
        p
        button(type="submit") Envoyer


  h2 Visualisation de l'objet
    p
      pre= JSON.stringify(reference)
      
  
  h2 Liste des références
  each References, index in reference
    reference.reference
      h3.titre= "no." + index + " : " + References.titre
      p.contenu= References.contenu
      hr
      a.action(href="/reference/"+References.id+"/edit") éditer  
      form(style="display:none" method="post" id="deleteme"+References.id action="/reference/"+References.id+"/delete")
      a.action(href='' onclick="var d = document.querySelector('#deleteme"+References.id+"');d.submit();") supprimer
      
      
   h2 Liste des images
   each Images in images
    article
      figure
        img(src=Images.path)
        figcaption= Images.description
        a.action(href='/reference/image/'+Images.id+'/edit') éditer
        form(id='delete-#{Images.id}' style="display:none;" action='/reference/'+Images.id+'/delete' method="post")
        a.action(href='' onclick="event.preventDefault();document.getElementById('delete-#{Images.id}').submit();") supprimer
    if images.length === 0
      p Il n'y a pas encore d'images :(
